# High-Fi 단계 달성을 위한 작업 목록

이 문서는 Web-DAW 프로젝트가 High-Fi(고품질 프로토타입) 단계에 도달하기 위해 필요한 작업들을 체계적으로 정리한 로드맵입니다.

---

## 📋 목차

1. [데이터베이스 스키마 완성](#1-데이터베이스-스키마-완성)
2. [핵심 기능 완성](#2-핵심-기능-완성)
3. [사용자 경험 개선](#3-사용자-경험-개선)
4. [성능 최적화](#4-성능-최적화)
5. [보안 강화](#5-보안-강화)
6. [테스트 및 품질 보증](#6-테스트-및-품질-보증)
7. [프로덕션 준비](#7-프로덕션-준비)
8. [문서화](#8-문서화)

---

## 1. 데이터베이스 스키마 완성

### 1.1 스키마 리팩토링
- [ ] **User 테이블 업데이트**
  - [ ] `nickname` → `display_name` 필드명 변경
  - [ ] `created_at`, `updated_at` 타임스탬프 필드 추가

- [ ] **Presets → Projects 리네이밍**
  - [ ] 모델 파일명 변경 (`preset.js` → `project.js`)
  - [ ] 테이블명 마이그레이션
  - [ ] API 엔드포인트 변경 (`/presets` → `/projects`)
  - [ ] 프론트엔드 코드 업데이트
  - [ ] `master_volume`, `is_quantized` 필드 추가

- [ ] **KeyMappings → ButtonSettings 리네이밍**
  - [ ] 모델 파일명 변경 (`keyMapping.js` → `buttonSetting.js`)
  - [ ] 테이블명 마이그레이션
  - [ ] `keyChar` → `pad_index` (0~15 정수) 변경
  - [ ] `mode` ENUM 재정의: `'SAMPLE'/'SYNTH'`
  - [ ] `synth_settings` JSON 필드 추가
  - [ ] 프론트엔드 코드 업데이트

- [ ] **Assets 테이블 확장**
  - [ ] `is_recorded` 필드 추가 (녹음 파일 구분)
  - [ ] `file_size` 필드 추가 (선택사항)

### 1.2 새로운 테이블 구현
- [ ] **UserPreferences 테이블**
  - [ ] 모델 생성
  - [ ] User와 1:1 관계 설정
  - [ ] API 엔드포인트 구현 (`/api/user/preferences`)
  - [ ] 프론트엔드 설정 UI 구현
  - [ ] 설정 로드/저장 로직

- [ ] **Posts 테이블 (프로젝트 공유 기능)**
  - [ ] 모델 생성
  - [ ] Projects와 1:1 관계 설정
  - [ ] API 엔드포인트 구현 (`/api/posts`)
  - [ ] 프로젝트 공유 UI 구현
  - [ ] 게시판 UI 구현 (목록, 상세, 좋아요, 다운로드)

---

## 2. 핵심 기능 완성

### 2.1 런치패드 기능
- [ ] **패드 동작 모드 완성**
  - [ ] SAMPLE 모드: 샘플 파일 재생 (완료 여부 확인)
  - [ ] SYNTH 모드: 신서사이저 재생
  - [ ] 패드 모드 전환 UI/UX
  - [ ] 패드별 볼륨 조절

- [ ] **16개 패드 관리**
  - [ ] 패드 설정 저장/로드
  - [ ] 패드 프리셋/템플릿 기능
  - [ ] 패드 그룹 선택 및 일괄 편집

### 2.2 시퀀서 기능
- [ ] **패턴 시퀀싱**
  - [ ] 그리드 기반 시퀀서 UI
  - [ ] 패턴 녹음 기능
  - [ ] 패턴 재생/루프
  - [ ] 패턴 저장/로드
  - [ ] 여러 패턴 체인 기능

- [ ] **퀀타이즈 기능**
  - [ ] 퀀타이즈 활성화/비활성화
  - [ ] 퀀타이즈 스냅 설정 (1/4, 1/8, 1/16 등)
  - [ ] 실시간 퀀타이즈 적용

### 2.3 믹서 기능
- [ ] **트랙별 제어**
  - [ ] 볼륨 조절 (완료 여부 확인)
  - [ ] 패닝 조절
  - [ ] 뮤트/솔로 기능
  - [ ] 개별 트랙 이펙트 (EQ, 컴프레서 등)

- [ ] **마스터 제어**
  - [ ] 마스터 볼륨 조절
  - [ ] 마스터 이펙트 (리미터 등)
  - [ ] 미터링 (레벨 표시)

### 2.4 신서사이저 기능
- [ ] **신스 파라미터 제어**
  - [ ] 오실레이터 타입 선택 (완료 여부 확인)
  - [ ] 엔벨로프 조절 (완료 여부 확인)
  - [ ] 필터 제어
  - [ ] LFO (Low Frequency Oscillator)
  - [ ] 모듈레이션 매트릭스

- [ ] **신스 프리셋**
  - [ ] 프리셋 저장/로드
  - [ ] 프리셋 라이브러리 관리
  - [ ] 프리셋 공유 기능

### 2.5 오디오 효과 (FX)
- [ ] **글로벌 이펙트**
  - [ ] 리버브 완성도 향상
  - [ ] 딜레이 완성도 향상
  - [ ] 추가 이펙트 (컴프레서, 이퀄라이저, 디스토션 등)

- [ ] **개별 트랙 이펙트**
  - [ ] 트랙별 이펙트 체인
  - [ ] 이펙트 파라미터 저장/로드
  - [ ] 이펙트 프리셋

### 2.6 파일 관리
- [ ] **파일 업로드**
  - [ ] 드래그 앤 드롭 업로드 (완료 여부 확인)
  - [ ] 다중 파일 업로드
  - [ ] 업로드 진행률 표시
  - [ ] 파일 형식 검증 및 변환

- [ ] **파일 라이브러리**
  - [ ] 파일 목록 표시 (완료 여부 확인)
  - [ ] 파일 검색/필터링
  - [ ] 파일 이름 변경 (완료 여부 확인)
  - [ ] 파일 삭제 (완료 여부 확인)
  - [ ] 파일 태그/카테고리 기능

- [ ] **녹음 기능**
  - [ ] 마이크 녹음
  - [ ] 실시간 녹음 모니터링
  - [ ] 녹음 파일 저장
  - [ ] 녹음 파일 편집 (트림, 페이드 등)

### 2.7 악기 라이브러리
- [ ] **샘플러 프리셋**
  - [ ] 샘플러 프리셋 로드 (완료 여부 확인)
  - [ ] 프리셋 커스터마이징
  - [ ] 프리셋 저장/공유

- [ ] **드럼 킷**
  - [ ] 드럼 킷 선택 (완료 여부 확인)
  - [ ] 드럼 킷 커스터마이징
  - [ ] 드럼 킷 저장/공유

- [ ] **가상 악기**
  - [ ] 가상 피아노 완성도 향상 (완료 여부 확인)
  - [ ] 가상 드럼 완성도 향상 (완료 여부 확인)
  - [ ] 추가 가상 악기 (기타, 베이스 등)

### 2.8 프로젝트 관리
- [ ] **프로젝트 CRUD**
  - [ ] 프로젝트 생성
  - [ ] 프로젝트 저장 (완료 여부 확인)
  - [ ] 프로젝트 로드 (완료 여부 확인)
  - [ ] 프로젝트 삭제
  - [ ] 프로젝트 이름 변경

- [ ] **프로젝트 공유**
  - [ ] 프로젝트 업로드 (Posts 연동)
  - [ ] 공유 프로젝트 다운로드
  - [ ] 프로젝트 미리듣기
  - [ ] 좋아요/북마크 기능
  - [ ] 프로젝트 댓글 기능 (선택사항)

### 2.9 사용자 설정
- [ ] **UserPreferences 구현**
  - [ ] 오디오 레이턴시 설정
  - [ ] 비주얼라이저 모드 선택
  - [ ] 기본 마스터 볼륨 설정
  - [ ] 키보드 단축키 커스터마이징
  - [ ] UI 테마 설정

---

## 3. 사용자 경험 개선

### 3.1 UI/UX 개선
- [ ] **반응형 디자인**
  - [ ] 모바일/태블릿 레이아웃
  - [ ] 작은 화면 최적화
  - [ ] 터치 제스처 지원

- [ ] **시각적 피드백**
  - [ ] 패드 트리거 애니메이션 개선
  - [ ] 로딩 상태 표시
  - [ ] 오류 메시지 개선
  - [ ] 성공/실패 알림 (Toast 메시지)

- [ ] **접근성**
  - [ ] 키보드 네비게이션
  - [ ] ARIA 라벨 추가
  - [ ] 색상 대비 개선
  - [ ] 스크린 리더 지원

- [ ] **다국어 지원** (선택사항)
  - [ ] i18n 설정
  - [ ] 한국어/영어 번역

### 3.2 사용성 개선
- [ ] **온보딩**
  - [ ] 첫 방문 사용자 가이드
  - [ ] 인터랙티브 튜토리얼
  - [ ] 도움말/FAQ 섹션

- [ ] **키보드 단축키**
  - [ ] 단축키 목록 표시
  - [ ] 단축키 커스터마이징
  - [ ] 단축키 충돌 검사

- [ ] **실시간 피드백**
  - [ ] 오디오 레벨 미터
  - [ ] CPU/메모리 사용량 표시
  - [ ] 네트워크 상태 표시

### 3.3 워크플로우 개선
- [ ] **자동 저장**
  - [ ] 로컬 자동 저장
  - [ ] 클라우드 자동 저장 (로그인 시)
  - [ ] 충돌 해결 UI

- [ ] **프로젝트 히스토리**
  - [ ] 버전 히스토리
  - [ ] 되돌리기/다시 실행 (Undo/Redo)
  - [ ] 스냅샷 저장

- [ ] **템플릿**
  - [ ] 프로젝트 템플릿
  - [ ] 패드 템플릿
  - [ ] 이펙트 체인 템플릿

---

## 4. 성능 최적화

### 4.1 프론트엔드 최적화
- [ ] **코드 분할**
  - [ ] React.lazy를 활용한 동적 임포트
  - [ ] 라우트 기반 코드 분할
  - [ ] 컴포넌트 지연 로딩

- [ ] **렌더링 최적화**
  - [ ] React.memo 활용
  - [ ] useMemo, useCallback 적절한 사용
  - [ ] 불필요한 리렌더링 제거
  - [ ] 가상화 (Virtualization) 적용 (긴 리스트)

- [ ] **에셋 최적화**
  - [ ] 이미지 최적화 (WebP, 압축)
  - [ ] 오디오 파일 프리로딩
  - [ ] CDN 활용 (선택사항)

- [ ] **번들 최적화**
  - [ ] Tree shaking
  - [ ] 불필요한 의존성 제거
  - [ ] 번들 크기 분석 및 최적화

### 4.2 백엔드 최적화
- [ ] **데이터베이스 최적화**
  - [ ] 인덱스 추가 (필요한 컬럼)
  - [ ] 쿼리 최적화
  - [ ] N+1 쿼리 문제 해결
  - [ ] 데이터베이스 연결 풀링

- [ ] **API 최적화**
  - [ ] 응답 캐싱 (Redis 활용, 선택사항)
  - [ ] 페이징 구현
  - [ ] 배치 요청 지원
  - [ ] 압축 응답 (gzip)

- [ ] **파일 관리 최적화**
  - [ ] 파일 스트리밍
  - [ ] 파일 캐싱
  - [ ] CDN 통합 (선택사항)

### 4.3 오디오 성능
- [ ] **오디오 엔진 최적화**
  - [ ] 메모리 사용량 최적화
  - [ ] CPU 사용량 최적화
  - [ ] 레이턴시 감소
  - [ ] 오디오 버퍼링 최적화

- [ ] **동시 재생 최적화**
  - [ ] 다중 샘플 동시 재생 최적화
  - [ ] 신스 음원 생성 최적화
  - [ ] 이펙트 처리 최적화

---

## 5. 보안 강화

### 5.1 인증/인가
- [ ] **세션 보안**
  - [ ] 세션 만료 시간 설정
  - [ ] HTTPS 강제 (프로덕션)
  - [ ] SameSite 쿠키 설정
  - [ ] CSRF 보호

- [ ] **권한 관리**
  - [ ] 사용자별 권한 체크
  - [ ] 리소스 소유권 검증
  - [ ] API 엔드포인트 권한 검사

### 5.2 데이터 보안
- [ ] **입력 검증**
  - [ ] 파일 업로드 검증 강화
  - [ ] SQL Injection 방지 (Sequelize 사용으로 이미 방지됨)
  - [ ] XSS 방지
  - [ ] 파일 타입/크기 제한

- [ ] **민감 정보 보호**
  - [ ] 환경 변수 관리
  - [ ] 로그에서 민감 정보 제거
  - [ ] 에러 메시지 보안

### 5.3 파일 보안
- [ ] **업로드 파일 검증**
  - [ ] 파일 형식 검증
  - [ ] 파일 크기 제한
  - [ ] 악성 파일 스캔 (선택사항)
  - [ ] 파일 이름 정규화

---

## 6. 테스트 및 품질 보증

### 6.1 단위 테스트
- [ ] **프론트엔드 테스트**
  - [ ] 컴포넌트 테스트 (React Testing Library)
  - [ ] 유틸리티 함수 테스트
  - [ ] 커스텀 훅 테스트
  - [ ] 목표 커버리지: 70% 이상

- [ ] **백엔드 테스트**
  - [ ] API 엔드포인트 테스트 (Jest, Supertest)
  - [ ] 모델 테스트
  - [ ] 비즈니스 로직 테스트
  - [ ] 목표 커버리지: 80% 이상

### 6.2 통합 테스트
- [ ] **E2E 테스트**
  - [ ] 주요 사용자 시나리오 테스트 (Playwright/Cypress)
  - [ ] 인증 플로우 테스트
  - [ ] 파일 업로드/다운로드 테스트
  - [ ] 프로젝트 저장/로드 테스트

### 6.3 성능 테스트
- [ ] **부하 테스트**
  - [ ] 동시 사용자 시뮬레이션
  - [ ] API 응답 시간 측정
  - [ ] 데이터베이스 부하 테스트

- [ ] **오디오 성능 테스트**
  - [ ] 다중 샘플 동시 재생 테스트
  - [ ] 레이턴시 측정
  - [ ] CPU/메모리 사용량 모니터링

### 6.4 품질 도구
- [ ] **코드 품질**
  - [ ] ESLint 설정 강화
  - [ ] Prettier 설정
  - [ ] Pre-commit 훅 (Husky)
  - [ ] 코드 리뷰 프로세스

---

## 7. 프로덕션 준비

### 7.1 인프라
- [ ] **배포 환경**
  - [ ] 프로덕션 Docker 설정
  - [ ] CI/CD 파이프라인 구축
  - [ ] 배포 자동화 스크립트
  - [ ] 롤백 전략

- [ ] **모니터링**
  - [ ] 로깅 시스템 구축 (Winston, Morgan)
  - [ ] 에러 추적 (Sentry 등, 선택사항)
  - [ ] 성능 모니터링
  - [ ] 헬스 체크 엔드포인트

- [ ] **스케일링**
  - [ ] 로드 밸런싱 (선택사항)
  - [ ] 데이터베이스 백업 전략
  - [ ] 파일 스토리지 전략 (S3 등, 선택사항)

### 7.2 환경 설정
- [ ] **환경 변수 관리**
  - [ ] 프로덕션 환경 변수 문서화
  - [ ] .env.example 파일 제공
  - [ ] 시크릿 관리 시스템 (선택사항)

- [ ] **데이터베이스 마이그레이션**
  - [ ] Sequelize 마이그레이션 파일 작성
  - [ ] 마이그레이션 실행 스크립트
  - [ ] 롤백 마이그레이션

### 7.3 문서화
- [ ] **API 문서**
  - [ ] Swagger/OpenAPI 문서
  - [ ] API 엔드포인트 명세
  - [ ] 인증 방법 문서

- [ ] **배포 문서**
  - [ ] 배포 가이드
  - [ ] 환경 설정 가이드
  - [ ] 트러블슈팅 가이드

---

## 8. 문서화

### 8.1 개발 문서
- [ ] **아키텍처 문서**
  - [ ] 시스템 아키텍처 다이어그램
  - [ ] 데이터 플로우 다이어그램
  - [ ] 컴포넌트 구조 문서

- [ ] **코드 문서**
  - [ ] 주요 함수 JSDoc 주석
  - [ ] 컴포넌트 Props 문서
  - [ ] API 인터페이스 문서

### 8.2 사용자 문서
- [ ] **사용자 가이드**
  - [ ] 시작하기 가이드
  - [ ] 기능 설명서
  - [ ] 튜토리얼 비디오 (선택사항)

- [ ] **FAQ**
  - [ ] 자주 묻는 질문
  - [ ] 문제 해결 가이드

---

## 📊 우선순위 가이드

### 🔴 높은 우선순위 (필수)
1. 데이터베이스 스키마 완성 (1.1, 1.2)
2. 핵심 기능 완성 (2.1 ~ 2.4)
3. 프로젝트 관리 (2.8)
4. 기본 보안 강화 (5.1, 5.2)
5. 기본 테스트 (6.1)

### 🟡 중간 우선순위 (권장)
1. 사용자 설정 (2.9)
2. 프로젝트 공유 (2.8의 일부)
3. UI/UX 개선 (3.1, 3.2)
4. 성능 최적화 (4.1, 4.2)
5. 통합 테스트 (6.2)

### 🟢 낮은 우선순위 (선택사항)
1. 고급 이펙트 (2.5의 확장)
2. 추가 가상 악기 (2.7의 확장)
3. 다국어 지원 (3.1)
4. 프로덕션 스케일링 (7.1의 일부)

---

## 📝 체크리스트 사용법

각 항목 옆의 `[ ]`를 `[x]`로 변경하여 완료된 작업을 표시하세요.

### 진행 상황 추적
- 전체 작업 수: 계산 필요
- 완료된 작업 수: 계산 필요
- 진행률: (완료 / 전체) × 100%

---

## 🔄 업데이트 이력

- **2024-01-XX**: 초기 버전 작성
- 이후 변경사항은 여기에 기록
